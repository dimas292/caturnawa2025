# Comprehensive Room Scores Table System

## 📊 Overview

Sistem tabel komprehensif untuk menampilkan seluruh hasil pertandingan British Parliamentary dengan detail lengkap setiap room, termasuk mosi, tim, peserta, nilai, dan ranking.

---

## 🏠 Complete Room Scores Table

### Tournament Overview Table Example:

```
📋 KDBI Tournament - Preliminary Round 1 Results
🎯 Motion: "This House Believes That Artificial Intelligence Should Replace Human Decision-Making in Criminal Justice"
📅 Date: September 12, 2025 | ⏰ Time: 10:00 - 12:00 WIB | 🏛️ Stage: Preliminary

╔══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                    🏠 ROOM 1 RESULTS                                                                            ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╬╣
║ 👨‍⚖️ Judge: Prof. Dr. Ahmad Wijaya                                                                                                             ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ Pos │    Team Name     │      Participants        │  Individual  │  Team   │ Rank │ VP │                                                    ║
║     │                  │                          │    Scores    │ Score   │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🟢OG│ Team Alpha       │ John Doe (PM)            │     74.0     │  146.0  │ 2nd  │ 2  │                                                    ║
║     │                  │ Jane Smith (DPM)         │     72.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🔴OO│ Team Beta        │ Mike Johnson (LO)        │     76.0     │  149.0  │🥇1st │ 3  │                                                    ║
║     │                  │ Sarah Wilson (DLO)       │     73.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🔵CG│ Team Gamma       │ David Lee (MG)           │     70.0     │  140.0  │ 4th  │ 0  │                                                    ║
║     │                  │ Lisa Chen (GW)           │     70.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🟠CO│ Team Delta       │ Robert Kim (MO)          │     71.0     │  143.0  │🥉3rd │ 1  │                                                    ║
║     │                  │ Emma Brown (OW)          │     72.0     │         │      │    │                                                    ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

╔══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                    🏠 ROOM 2 RESULTS                                                                            ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╬╣
║ 👨‍⚖️ Judge: Dr. Siti Nurhaliza                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ Pos │    Team Name     │      Participants        │  Individual  │  Team   │ Rank │ VP │                                                    ║
║     │                  │                          │    Scores    │ Score   │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🟢OG│ Team Echo        │ Alex Turner (PM)         │     75.0     │  148.0  │🥇1st │ 3  │                                                    ║
║     │                  │ Maya Patel (DPM)         │     73.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🔴OO│ Team Foxtrot     │ James Wilson (LO)        │     72.0     │  144.0  │🥉3rd │ 1  │                                                    ║
║     │                  │ Sophie Davis (DLO)       │     72.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🔵CG│ Team Golf        │ Ryan Martinez (MG)       │     73.0     │  147.0  │🥈2nd │ 2  │                                                    ║
║     │                  │ Anna Rodriguez (GW)      │     74.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🟠CO│ Team Hotel       │ Kevin Zhang (MO)         │     71.0     │  142.0  │ 4th  │ 0  │                                                    ║
║     │                  │ Rachel Liu (OW)          │     71.0     │         │      │    │                                                    ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝

╔══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║                                                    🏠 ROOM 3 RESULTS                                                                            ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╬╣
║ 👨‍⚖️ Judge: Prof. Budi Santoso                                                                                                                 ║
╠═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ Pos │    Team Name     │      Participants        │  Individual  │  Team   │ Rank │ VP │                                                    ║
║     │                  │                          │    Scores    │ Score   │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🟢OG│ Team India       │ Ravi Sharma (PM)         │     76.5     │  150.5  │🥇1st │ 3  │                                                    ║
║     │                  │ Priya Kumar (DPM)        │     74.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🔴OO│ Team Juliet      │ Omar Hassan (LO)         │     73.5     │  146.5  │🥈2nd │ 2  │                                                    ║
║     │                  │ Fatima Al-Zahra (DLO)    │     73.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🔵CG│ Team Kilo        │ Chen Wei (MG)            │     71.5     │  143.5  │🥉3rd │ 1  │                                                    ║
║     │                  │ Li Ming (GW)             │     72.0     │         │      │    │                                                    ║
╠═════╪══════════════════╪══════════════════════════╪══════════════╪═════════╪══════╪════╣                                                    ║
║ 🟠CO│ Team Lima        │ Carlos Mendez (MO)       │     70.0     │  141.0  │ 4th  │ 0  │                                                    ║
║     │                  │ Maria Santos (OW)        │     71.0     │         │      │    │                                                    ║
╚═════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

### Round Summary Statistics:
```
📊 PRELIMINARY ROUND 1 - STATISTICAL OVERVIEW

🏆 Best Performing Teams by Room:
• Room 1: Team Beta (149.0 pts) - Mike Johnson & Sarah Wilson
• Room 2: Team Echo (148.0 pts) - Alex Turner & Maya Patel  
• Room 3: Team India (150.5 pts) - Ravi Sharma & Priya Kumar

🎯 Highest Individual Scores:
1. Ravi Sharma (PM) - 76.5 points
2. Mike Johnson (LO) - 76.0 points
3. Alex Turner (PM) - 75.0 points

📈 Tournament Statistics:
• Total Teams: 12
• Total Rooms: 3
• Average Team Score: 145.2
• Score Range: 140.0 - 150.5
• Most Competitive Room: Room 1 (9 point spread)

🎪 Victory Points Distribution:
• 1st Place (3 VP): 3 teams
• 2nd Place (2 VP): 3 teams
• 3rd Place (1 VP): 3 teams
• 4th Place (0 VP): 3 teams
```

---

## 📋 Table Field Specifications

### Column Definitions:

#### 1. **Room** 
- **Type**: Number
- **Description**: Room/breakout number (1, 2, 3, etc.)
- **Format**: Integer
- **Example**: `1`, `2`, `3`

#### 2. **Team Name**
- **Type**: String
- **Description**: Registered team name
- **Format**: Text (max 50 chars)
- **Example**: `"Team Alpha"`, `"Debat Masters"`

#### 3. **Position**
- **Type**: Enum
- **Description**: British Parliamentary position
- **Values**: 
  - `"Opening Government (OG)"`
  - `"Opening Opposition (OO)"`
  - `"Closing Government (CG)"`
  - `"Closing Opposition (CO)"`

#### 4. **Participant**
- **Type**: String
- **Description**: Speaker name and BP role
- **Format**: `"Full Name (Role)"`
- **Roles**: PM, DPM, LO, DLO, MG, GW, MO, OW
- **Example**: `"John Doe (PM)"`, `"Jane Smith (DPM)"`

#### 5. **Individual Score**
- **Type**: Float
- **Description**: Speaker's individual score
- **Range**: 0 - 100
- **Format**: One decimal place
- **Example**: `74.5`, `72.0`

#### 6. **Team Score**
- **Type**: Float
- **Description**: Combined team score (both speakers)
- **Range**: 0 - 200
- **Format**: One decimal place
- **Example**: `146.5`, `149.0`

#### 7. **Rank**
- **Type**: Ordinal
- **Description**: Team position in room
- **Values**: `1st`, `2nd`, `3rd`, `4th`
- **Color Coding**: 🥇 🥈 🥉 4️⃣

#### 8. **Victory Points (VP)**
- **Type**: Integer
- **Description**: Points awarded based on rank
- **Values**: `3` (1st), `2` (2nd), `1` (3rd), `0` (4th)

#### 9. **Judge**
- **Type**: String
- **Description**: Assigned judge name(s)
- **Format**: 
  - Single: `"Prof. Dr. Ahmad Wijaya"`
  - Panel: `"Prof. Budi (Chief), Dr. Maya, Dr. Indra"`


---

## 🎯 Motion Display

### Motion Header Format:
```html
<div class="motion-header">
  <h3>🎯 Motion</h3>
  <p class="motion-text">
    "This House Believes That Artificial Intelligence Should Replace 
     Human Decision-Making in Criminal Justice"
  </p>
  <div class="motion-meta">
    <span>Stage: Preliminary</span>
    <span>Round: 1</span>
    <span>Date: 12 September 2025</span>
  </div>
</div>
```

---

## 📊 Different Table Views

### 1. **Admin/Tournament Director View** (Full Access):
```
✅ All columns visible
✅ Judge names shown
✅ Edit capabilities
✅ Export functions
✅ Real-time updates
```

### 2. **Judge View** (Limited Access):
```
✅ All performance data
✅ Own judged rooms only
❌ Other judges' assignments
✅ Score submission forms
✅ Match details
```

### 3. **Participant View** (Restricted):
```
✅ All team names and positions
✅ All team scores and ranks
✅ Victory points
❌ Individual speaker scores (except own team)
❌ Judge names
❌ Administrative notes
```

### 4. **Public View** (Most Restricted):
```
✅ Team names and positions
✅ Team ranks and victory points
❌ Individual scores
❌ Judge information
❌ Detailed breakdowns
```

---

## 🛠 Technical Implementation

### Database Query Structure:
```sql
SELECT 
  m.matchNumber as room,
  r.teamName,
  -- Position logic based on team assignment
  CASE 
    WHEN r.id = m.team1Id THEN 'Opening Government (OG)'
    WHEN r.id = m.team2Id THEN 'Opening Opposition (OO)'
    WHEN r.id = m.team3Id THEN 'Closing Government (CG)'
    WHEN r.id = m.team4Id THEN 'Closing Opposition (CO)'
  END as position,
  p.fullName,
  ds.bpPosition,
  ds.score as individualScore,
  teamScores.totalScore as teamScore,
  teamRanks.rank,
  teamRanks.victoryPoints,
  j.name as judgeName,
  round.motion
FROM DebateMatch m
JOIN DebateRound round ON m.roundId = round.id
JOIN Registration r ON r.id IN (m.team1Id, m.team2Id, m.team3Id, m.team4Id)
JOIN DebateScore ds ON ds.matchId = m.id
JOIN Participant p ON ds.participantId = p.id
JOIN User j ON ds.judgeId = j.id
LEFT JOIN teamScores ON teamScores.teamId = r.id
LEFT JOIN teamRanks ON teamRanks.teamId = r.id
ORDER BY m.matchNumber, position_order, ds.bpPosition
```

### React Component Structure:
```jsx
<ComprehensiveScoresTable>
  <MotionHeader motion={round.motion} stage={round.stage} />
  
  <ScoresTable>
    <TableHeader columns={visibleColumns} />
    <TableBody>
      {roomData.map(room => (
        <RoomSection key={room.number}>
          {room.teams.map(team => (
            <TeamRows 
              key={team.id}
              team={team}
              showIndividualScores={userAccess.individual}
              showJudge={userAccess.judge}
            />
          ))}
        </RoomSection>
      ))}
    </TableBody>
  </ScoresTable>
  
  <TableControls>
    <FilterOptions />
    <ExportButtons />
    <ViewToggle />
  </TableControls>
</ComprehensiveScoresTable>
```

---

## 🎨 Visual Design Features

### Color Coding System:
```css
.rank-1st { background: linear-gradient(135deg, #FFD700, #FFA500); } /* Gold */
.rank-2nd { background: linear-gradient(135deg, #C0C0C0, #A0A0A0); } /* Silver */
.rank-3rd { background: linear-gradient(135deg, #CD7F32, #B8860B); } /* Bronze */
.rank-4th { background: linear-gradient(135deg, #F0F0F0, #D0D0D0); } /* Gray */

.position-og { border-left: 4px solid #4CAF50; } /* Green - Government */
.position-oo { border-left: 4px solid #F44336; } /* Red - Opposition */
.position-cg { border-left: 4px solid #2196F3; } /* Blue - Closing Gov */
.position-co { border-left: 4px solid #FF9800; } /* Orange - Closing Opp */
```

### Interactive Features:
- **Hover Effects**: Show detailed score breakdown
- **Click to Expand**: Individual speaker details
- **Sort Options**: By room, team score, rank
- **Filter Controls**: By position, score range, judge

### Mobile Responsive Design:
```css
@media (max-width: 768px) {
  .scores-table {
    display: block;
    overflow-x: auto;
  }
  
  .table-row {
    flex-direction: column;
    border: 1px solid #ddd;
    margin-bottom: 10px;
  }
  
  .participant-row {
    padding: 8px;
    font-size: 14px;
  }
}
```

---

## 📄 Export & Reporting Features

### Export Options:
```javascript
const exportFormats = [
  {
    format: 'PDF',
    description: 'Complete formatted table with motion',
    filename: 'KDBI_Round1_Results.pdf'
  },
  {
    format: 'Excel',
    description: 'Spreadsheet with all data points',
    filename: 'KDBI_Round1_Data.xlsx'
  },
  {
    format: 'CSV',
    description: 'Raw data for analysis',
    filename: 'KDBI_Round1_Raw.csv'
  }
]
```

### Print-Friendly Version:
- Clean black & white formatting
- Optimized page breaks
- Header/footer with tournament info
- Compact layout for paper efficiency

---

## 🔍 Search & Filter Capabilities

### Filter Options:
```javascript
const filterControls = {
  room: "Filter by room number",
  position: "Filter by BP position (OG, OO, CG, CO)",
  scoreRange: "Filter by score range (60-80)",
  judge: "Filter by assigned judge",
  rank: "Filter by team ranking (1st, 2nd, 3rd, 4th)",
  teamName: "Search by team name"
}
```

### Quick Stats Summary:
```
📊 Round 1 Summary
- Total Rooms: 3
- Teams Participated: 12
- Average Team Score: 145.2
- Highest Individual: 76 (Mike Johnson - LO)
- Most Competitive Room: Room 2 (3.5 point spread)
```

---

## 🚀 Advanced Features

### Real-Time Updates:
- **Live Scoring**: Table updates as judges submit scores
- **Progress Indicators**: Show completion status per room
- **Auto-Refresh**: Updates every 30 seconds during active rounds

### Data Analytics Integration:
- **Performance Trends**: Link to historical data
- **Comparative Analysis**: Compare with previous rounds
- **Statistical Insights**: Automated pattern detection

### Accessibility Features:
- **Screen Reader Support**: Full ARIA labels
- **Keyboard Navigation**: Tab-friendly interface
- **High Contrast Mode**: For visual accessibility
- **Text Size Controls**: Adjustable font sizes

This comprehensive table system provides complete transparency and detailed tracking for British Parliamentary tournament results while maintaining appropriate access controls for different user types.